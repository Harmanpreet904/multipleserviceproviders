<!DOCTYPE html>
<html lang="en">
<head>
    {% load staticfiles %}
    <title>User Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="keywords" content="Fast Service a Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design"/>
    <link href="{% static 'indexcss/bootstrap.min.css' %}" rel="stylesheet" type="text/css" media="all">
    <link href="{% static 'indexcss/fontawesome-all.min.css' %}" rel="stylesheet" type="text/css" media="all">
    <link rel="stylesheet" href="{% static 'fontawesome-free-5.11.2-web/css/all.css' %}">
    <link href="{% static 'indexcss/easy-responsive-tabs.css' %}" rel='stylesheet' type='text/css'/>
    <link rel="stylesheet" href="{% static 'indexcss/flexslider.css' %}" type="text/css" media="all">
    <link href="{% static 'indexcss/merchantdashboard.css' %}" rel="stylesheet" type="text/css" media="all"/>
    <link href="//fonts.googleapis.com/css?family=Roboto:400,500,700,900" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet">
</head>
<body>
<header>
    <!-- header -->
    <div class="header-w3l">
        <nav class="navbar navbar-expand-lg navbar-light">
            <a class="navbar-brand" href="#">User Dashboard</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item ">
                        <a class="nav-link" href="userindex">Home </a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            My Account
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="viewuserorders">View Orders</a>
                            <a class="dropdown-item" href="index">Log Out</a>

                        </div>
                    </li>

                </ul>
            </div>

        </nav>
        <div class="w3l_banner_info">
            <div class="slider1">
                <div class="callbacks_container">
                    <ul class="rslides" id="slider3">
                        <li>
                            <div class="slider1-img">
                                <div class="slider_banner_info">


                                </div>
                            </div>
                        </li>


                    </ul>
                </div>
            </div>
        </div>
        <!-- //banner-slider -->
    </div>
</header>

<section class="services  py-lg-5 py-md-4 py-md-3 py-2">
    <h1 class="text-center">My Orders</h1><br>
    <input type="hidden" value="{{ request.session.useremail }}" name="useremail" id="useremail">

    <label for="selectdate">Select Date:</label>
    &nbsp&nbsp&nbspFROM<input type="date" name="datefrom" id="datefrom" class="form-check-inline w-25">
    TO<input type="date" name="dateto" id="dateto" class="form-check-inline w-25">
    <button onclick="vieworders()" class="btn btn-success ">GO</button>


    <table class="table table-hover table-striped" id="vieworders">

        {#            <div id="viewdate"></div>#}
        {#            <tbody ></tbody>#}
    </table>
    </div>

</section>


<!-- Contact -->
<section class="contact py-lg-5 py-md-4 py-md-3 py-2">
    <div class="container py-lg-5 py-md-4 py-md-3 py-2">
        <div class="w3_mg">
            <h3>Multiple Service Provider</h3>
            <div id="viewdate"></div>
            <p class=" my-lg-4 my-md-3 my-sm-2 my-2">Lorem Ipsum is simply dummy text of the printing and typesetting
                industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s</p>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                Contact Page
            </button>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Multiple Service Provider</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="contact" id="contact">
                                <div class="container">
                                    <h3 class="title clr">CONTACT FORM</h3>
                                    <div class=" contact-form">
                                        <form action="#" method="post">
                                            <div class="row contact-bothside-agileinfo">
                                                <div class="col-md-6 col-sm-6 col-xs-6 form-right form-left">
                                                    <input type="text" name="Name" placeholder="Name" required="">
                                                </div>
                                                <div class="col-md-6 col-sm-6 col-xs-6 form-right ">
                                                    <input type="text" name="Last name" placeholder="Last name"
                                                           required="">
                                                </div>
                                                <div class="col-md-6 col-sm-6 col-xs-6 form-right form-left">
                                                    <input type="email" name="Email" placeholder="Email" required="">
                                                </div>
                                                <div class="col-md-6 col-sm-6 col-xs-6 form-right ">
                                                    <input type="text" name="phone" placeholder="Phone" required="">
                                                </div>
                                                <textarea name="Message" placeholder="Message" required=""></textarea>
                                                <input type="submit" value="SUBMIT">
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- /Conatct -->


<!-- Footer-->
<section class="footer">
    <div class="container">
        <h3>Multiple Service Provider</h3>
        <div class="wrapper">
            <ul class="social-icons icon-circle icon-zoom list-unstyled list-inline">
                <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                <li><a href="#"><i class="fab fa-linkedin-in"></i></a></li>
            </ul>
        </div>
        <div class="copyright">
            <p>Â© 2019 Multiple Service Provider. All Rights Reserved | Design by Harman</p>

        </div>
    </div>
</section>
<!-- /Footer-->
<!-- bootstrap-pop-up for login and register -->
<div class="modal video-modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                Multiple Service Provider
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <section>
                <div class="modal-body">
                    <div class="loginf_module">
                        <div class="module form-module">
                            <div class="toggle">
                                <i class="fa fa-times fa-pencil"></i>
                                <div class="tooltip">Register</div>
                            </div>
                            <div class="form">
                                <h3>Login to your account</h3>
                                <form action="#" method="post">
                                    <input type="text" name="Username" placeholder="Username" required="">
                                    <input type="password" name="Password" placeholder="Password" required="">
                                    <input type="submit" value="Login">
                                </form>
                                <div class="cta">
                                    <a href="#">Forgot password?</a>
                                </div>
                            </div>
                            <div class="form">
                                <h3>Create a new account</h3>
                                <form action="#" method="post">
                                    <input type="text" name="Username" placeholder="Username" required="">
                                    <input type="password" name="Password" placeholder="Password" required="">
                                    <input type="email" name="Email" placeholder="Email address" required="">
                                    <input type="text" name="Phone" placeholder="Phone Number" required="">
                                    <input type="submit" value="Register">
                                </form>
                            </div>

                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
<!-- //bootstrap-pop-up for login and register-->

<script src="{% static 'indexjs/jquery.min.v3.js' %}"></script>
<script src="{% static 'indexjs/bootstrap.min.js' %}"></script>
<script src="{% static 'indexjs/move-top.js' %}"></script>
<script src="{% static 'indexjs/easing.js' %}"></script>
<script src="{% static 'indexjs/SmoothScroll.min.js' %}"></script>

<!-- banner Slider -->

<script src="{% static 'indexjs/jquery.magnific-popup.js' %}" type="text/javascript"></script>
<script>
    $(document).ready(function () {
        $('.popup-with-zoom-anim').magnificPopup({
            type: 'inline',
            fixedContentPos: false,
            fixedBgPos: true,
            overflowY: 'auto',
            closeBtnInside: true,
            preloader: false,
            midClick: true,
            removalDelay: 300,
            mainClass: 'my-mfp-zoom-in'
        });

    });
</script>

<!-- sign in and signup pop up toggle script -->
<script>
    $('.toggle').click(function () {
        // Switches the Icon
        $(this).children('i').toggleClass('fa-pencil');
        // Switches the forms
        $('.form').animate({
            height: "toggle",
            'padding-top': 'toggle',
            'padding-bottom': 'toggle',
            opacity: "toggle"
        }, "slow");
    });
</script>
<!-- sign in and signup pop up toggle script -->

<!-- start-smoth-scrolling -->
<!-- here stars scrolling icon -->
<script type="text/javascript">
    $(document).ready(function () {
        /*
            var defaults = {
            containerID: 'toTop', // fading element id
            containerHoverID: 'toTopHover', // fading element hover id
            scrollSpeed: 1200,
            easingType: 'linear'
            };
        */

        $().UItoTop({easingType: 'easeOutQuart'});

    });
</script>
<!-- //here ends scrolling icon -->
<!-- scrolling script -->
<script type="text/javascript">
    jQuery(document).ready(function ($) {
        $(".scroll").click(function (event) {
            event.preventDefault();
            $('html,body').animate({scrollTop: $(this.hash).offset().top}, 1000);
        });
    });
</script>
<script type="text/javascript">
    $(function () {
        $('[data-toggle="popover"]').popover()
    })
</script>
<!-- //scrolling script -->
<!--//start-smoth-scrolling -->
<script>
    function vieworders() {
        var datefrom = document.getElementById('datefrom').value;
        var dateto = document.getElementById('dateto').value;
        var xml = new XMLHttpRequest();
        xml.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var output = JSON.parse(this.response);
                alert(output)
                s = "";
                s += "<thead>"
                s += "<th>" + "Booking Id" + "</th>"
                s += "<th>" + "Merchant Email" + "</th>"
                s += "<th>" + "Service Id" + "</th>"
                s += "<th>" + "Customer Mobile" + "</th>"
                s += "<th>" + "Customer Email " + "</th>"
                s += "<th>" + "Customer Address" + "</th>"
                s += "<th>" + "Total Charges" + "</th>"
                {#s += "<th>" + "Status" + "</th>"#}
                s += "<th>" + "Booking Date" + "</th>"
                s += "<th>" + "Rating" + "</th>"
                s += "</thead>"
                for (var i = 0; i < output.length; i++) {
                    s += "<tr>";
                    s += "<td>" + output[i][0] + "</td>";
                    s += "<td>" + output[i][1] + "</td>";
                    s += "<td>" + output[i][2] + "</td>";
                    s += "<td>" + output[i][3] + "</td>";
                    s += "<td>" + output[i][4] + "</td>";
                    s += "<td>" + output[i][5] + "</td>";
                    s += "<td>" + output[i][6] + "</td>";
                    {#s += "<td>" + output[i][7] + "</td>";#}
                    s += "<td>" + output[i][8] + "</td>";
                    s += "<td><button type='button' class='btn btn-warning' onclick='rating(" + '"' + output[i][2] + '"' + ")'><strong class='fas fa-star'></strong></button></td> ";
                    s += "</tr>"
                    document.getElementById('vieworders').innerHTML = s;
                }
            }
        };
        xml.open('GET', 'vieworders?datefrom=' + datefrom + "&dateto=" + dateto, true);
        xml.send();
    }


    function rating(serviceid) {

        window.location.href="viewserviceforrating?serviceid="+serviceid;


    }


</script>
<style>
    body{
        background-size: cover;
    }
</style>

</body>
</html>